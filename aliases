e() {
  jobs=$(jobs)
  if [ -z "$jobs" ]; then
    if [[ $# == '0' ]]; then
      vim
    else
      vim "$*"
    fi
  else
    fg
  fi
}

travis() { open 'https://magnum.travis-ci.com/#!/evently/app/builds' }
alias tt='tail -f log/test.log | grep -v "TRUNCATE"'

#ruby
alias rb='rbenv'
alias rv='ruby -v'
alias wr='ps aux | grep ruby'
alias sg='guard'
alias kg='kill -9 %bundled_guard'
alias kf='kill -9 %1'

#testing
alias zz='zeus'
alias zs='zeus start'
alias zr='zeus rspec'
alias zrs='zeus rspec spec'
alias zc='zeus cucumber'
alias zx='rm .zeus.sock'

# msc
alias youtube-dl='noglob youtube-dl'
alias bup='brew update && echo "==> Outdated Formula" && brew outdated && brew cleanup'

alias time='/usr/bin/time'

#vim
export EDITOR=vim
alias vim='mvim -v'
alias tmux="TERM=screen-256color-bce tmux"

#evently
alias rsq='ps -ef | grep resque'
local_broadcast() { DO_NOT_QUIT_BROWSER=true RAILS_ENV=production bundle exec rake broadcast:work QUEUE="$1" }
alias rspl='z splat && rs -p4000'

# tail server rails log
tail_server() { ssh -t "$1" tail -f /var/www/bullseye/production/current/log/production.log }
tail_test_server() { ssh -t "$1" tail -f /var/www/bullseye/testing/current/log/production.log }

#conviniences
alias -g V='|vim -'
alias -g G='|grep --color'

#git
alias eag='vim ~/.gitconfig'
g() {
  if [[ $# == '0' ]]; then
    command hub status -sb
  else
    command hub "$@";
  fi
}
grmb() { git push origin :"$@"; git branch -d "$@" }
alias gd='g d'
alias gl='g l'
alias gr='g r'
push_branch() {
  branch_name=$(git symbolic-ref HEAD 2>/dev/null | cut -d"/" -f 3)
  git push --set-upstream origin $branch_name

  if [[ ! $# == '0' ]]; then
    git pull-request
  fi

  git browse
}

#bundler
alias bs='bundle show'

#rails
alias migrate='rake db:migrate && rake db:test:clone_structure'
alias rs='rails server thin'
alias rc='rails console'
alias rg='rails generate'

#ctags
alias rctags='ctags -R --exclude=.git --exclude=log --exclude=public *'

#rake
alias rt='rake -T'
alias rr='rake routes'

#heroku
alias h="heroku"
hpush() { git add -A; git commit -m "$*"; git push; git push heroku master; }
alias hc="heroku run console"
alias hl="heroku logs -t"
alias hp="git push heroku master"

#servers
myip() { elinks -dump http://checkip.dyndns.org:8245/ }

#msc
alias mx='chmod +x'
alias cd..='cd ..'

# system and files editing
alias ea='vim ~/.aliases'
alias ez='vim ~/Code/dotfiles/zshrc'
alias sr='source ~/.zshrc'
