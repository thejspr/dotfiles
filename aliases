push_branch() {
  branch_name=$(git symbolic-ref HEAD 2>/dev/null | cut -d"/" -f 3)
  git push --set-upstream origin $branch_name

  if [[ ! $# == '0' ]]; then
    git pull-request
  fi
  git browse
}
travis() { open 'https://magnum.travis-ci.com/#!/evently/app/builds' }
alias tt='tail -f log/test.log | grep -v "TRUNCATE"'

#ruby
alias rb='rbenv'
alias rv='ruby -v'
alias wr='ps aux | grep ruby'
alias sg='guard'
alias kg='kill -9 %bundled_guard'
alias kf='kill -9 %1'

# msc
alias youtube-dl='noglob youtube-dl'
alias bup='brew update && echo "==> Outdated Formula" && brew outdated && brew cleanup'

alias time='/usr/bin/time'

#vim
export EDITOR=vim
alias vim='mvim -v'
alias e='vim'
alias tmux="TERM=screen-256color-bce tmux"

#evently
alias rsq='ps -ef | grep resque'
local_broadcast() { DO_NOT_QUIT_BROWSER=true RAILS_ENV=production bundle exec rake broadcast:work QUEUE="$1" }

# tail server rails log
tail_server() { ssh -t "$1" tail -f /var/www/bullseye/production/current/log/production.log }
tail_test_server() { ssh -t "$1" tail -f /var/www/bullseye/testing/current/log/production.log }

#conviniences
alias -g V='|vim -'
alias -g G='|grep'

#git
alias eag='vim ~/.gitconfig'
g() {
  if [[ $# == '0' ]]; then
    command hub status -sb
  else
    command hub "$@";
  fi
}
grmb() { git push origin :"$@"; git branch -d "$@" }

alias gd='g d'
alias gl='g l'
alias gr='g r'

#bundler
alias bs='bundle show'

#rails
alias migrate='rake db:migrate && rake db:test:clone_structure'
alias rs='rails server thin'
alias rc='rails console'
alias rg='rails generate'
alias reset_db='rake db:drop db:setup db:test:prepare'

#logs, #rails
alias devlog='tail -f ./log/development.log'
alias testlog='tail -f ./log/test.log'

#ctags
alias rctags='ctags -R --exclude=.git --exclude=log --exclude=public *'

#rake
alias rt='rake -T'
alias rr='rake routes'

#heroku
alias h="heroku"
hpush() { git add -A; git commit -m "$*"; git push heroku master; }
alias hc="heroku run console"

#servers
myip() { elinks -dump http://checkip.dyndns.org:8245/ }

#msc
alias mx='chmod +x'
alias cd..='cd ..'
alias grep='grep --color=auto'

# system and files editing
alias ea='vim ~/.aliases'
alias ez='vim ~/Code/dotfiles/zshrc'
alias sr='source ~/.zshrc'
