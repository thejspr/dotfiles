# new
alias geeknote='python ~/Code/libs/geeknote/geeknote.py'
alias worklog='geeknote edit worklog'
dash(){
  open "dash://$@"
}

# work
alias r2c='./script/console --irb=pry'
alias ts='be thin start'
alias bsc='be spork cucumber'
alias resass='be compass clean && be compass compile'
alias tlog='ssh -t staging2 "tail -f /var/www/housetrip/current/log/staging2.hosts.log"'
export INT='hosts-nps/property-preview-51306953'
export STG='staging2.hosts'

#servers
alias ec2='mosh --ssh "ssh -i ~/.ssh/jsprkey.pem -p 22" ec2'

#tmux
alias tm='tmux attach || tmux new'

#ruby
alias rb='rbenv'
alias rv='ruby -v'
alias wr='ps aux | grep ruby'
alias kf='kill -9 %1'
alias kk='kill -9'
alias nodrip='JAVACMD=`which java`'
alias be='bundle exec'
alias bu='bundle update'
alias bi='bundle install'

#rails
alias tt='tail -f log/test.log | grep -v "DELETE FROM" -v | grep -v "TRUNCATE"'
alias migrate='br db:migrate db:test:clone_structure'
alias ber='be rails'
alias rsp='ber server puma'

rc () {
  if [ -f ./script/console ]; then
    ./script/console --irb=pry $@
  else
    rails c $@
  fi
}

rg () {
  if [ -f ./script/generate ]; then
    ./script/generate $@
  else
    rails g $@
  fi
}

rs () {
  if [ -f ./script/server ]; then
    ./script/server $@
  else
    rails s $@
  fi
}


#rake
alias br='be rake'
alias rt='br -T'
alias rr='br routes'

#heroku
alias h="heroku"
hpush() { git add -A; git commit -m "$*"; git push; git push production master; }
alias hc="heroku run console"
alias hl="heroku logs -t"

#testing
alias sg='bundle exec guard'
alias bec='be cucumber'

# msc
alias youtube-dl='noglob youtube-dl'

#vim
if $JSPRMAC; then
  alias e='mvim -v'
  alias bup='brew update && echo "==> Outdated Formula" && brew outdated && brew cleanup'
  alias bu='brew upgrade'
else
  alias e='vim'
  alias aup='sudo apt-get update && sudo apt-get upgrade && sudo apt-get autoclean && sudo apt-get autoremove'
fi

#conviniences
alias -g V='|e -'
alias -g G='|grep --color'
alias -g A='|ag --color'

#git
g() {
  if [[ $# == '0' ]]; then
    command git status -sb
  else
    command git "$@";
  fi
}
gcam() {
  command git add -A;
  command git commit -m "$*";
}
alias gd='g d'
alias gl='g l'
alias gr='g r'
alias gc='g commit -v'
alias git-new-workdir='~/Code/libs/git/contrib/workdir/git-new-workdir'

#msc
myip() { elinks -dump http://checkip.dyndns.org:8245/ }
alias mx='chmod +x'
alias cd..='cd ..'
alias ll='ls -la'

# system and files editing
alias ea='e ~/Code/dotfiles/aliases'
alias eg='e ~/Code/dotfiles/gitconfig'
alias ez='e ~/Code/dotfiles/zsh_mods'
alias ezz='e ~/.zpreztorc'
alias sr='exec zsh'

# new
alias cm='chromarks'

ht_depl() {
  bundle exec cap "$@" deploy && growlnotify -s -m "$@" deployed || growlnotify -s -m "Deploy to $@ failed"
}
