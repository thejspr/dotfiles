export EDITOR=mvim
alias time='/usr/bin/time'

#filetypes
alias -s rb=mvim
alias -s log=mvim

#vim
alias vim='mvim -v'
alias tmux="TERM=screen-256color-bce tmux"

#evently
alias risky='RISKY=true'
alias dq='DO_NOT_QUIT_BROWSER=true'
alias rsq='ps -ef | grep resque'
bcw() { DO_NOT_QUIT_BROWSER=true RAILS_ENV=production rake broadcast:work QUEUE="$1" }

# tail server rails log
tail_server() { ssh -t "$1" tail -f /var/www/bullseye/production/current/log/production.log }

#broadcast spec runners
rsh() { rspec spec/broadcast/sites/helpers/"$1"_helper_spec.rb"$2" }
rss() { LIVE=true rspec spec/broadcast/sites/"$1"_spec.rb"$2" }

#conviniences
alias -g A='|ack'
alias -g L='|less'
alias -g V='|vim -'
alias -g M='|mvim -'
alias -g G='|grep'
alias -g N='&>/dev/null&'
alias -g W='|wc'

#git
unalias g
alias git=hub
g() {
  if [[ $# == '0' ]]; then
    command hub status -sb
  else
    command hub "$@";
  fi
}

alias gl='git log --oneline --decorate -20'
alias gd='git diff'
alias gdw='git diff --word-diff'
alias gci='git commit -v --no-verify'
grmb() { git push origin :"$@"; git branch -D "$@" }

#rails
alias migrate='rake db:migrate && rake db:test:clone_structure'
alias rs='rails server thin'
alias rc='rails console'

#logs, #rails
alias devlog='tail -f ./log/development.log'
alias testlog='tail -f ./log/test.log'

#ctags
alias rctags='ctags -R --exclude=.git --exclude=log --exclude=public *'

#ruby
alias rb='rbenv'
alias rv='ruby -v'
alias wr='ps aux | grep ruby'

#rake
alias rt='rake -T'

#heroku
alias h="heroku"
hpush() { git add -A; git commit -m "$*"; git push heroku master; }

#servers
alias prgs='ssh thejspr.com'
myip() { elinks -dump http://checkip.dyndns.org:8245/ }

#msc
alias mx='chmod +x'
alias cd..='cd ..'
alias ll='ls -lA'
alias grep='grep --color=auto'

# system and files editing
alias ea='vim ~/.aliases'
alias ez='vim ~/Code/dotfiles/zshrc'
alias ez_='vim ~/Code/dotfiles/_zshrc'
alias sr='source ~/.zshrc'

# aptitude conviniences
alias ain='sudo apt-get install $@ -y'
alias aun='sudo apt-get remove'
alias afi='sudo apt-cache search'
alias aup='sudo apt-get update && sudo apt-get upgrade -y'
alias aclean='sudo apt-get autoclean && sudo apt-get autoremove && sudo apt-get clean && sudo apt-get remove'
