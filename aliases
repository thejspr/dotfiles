# new
alias ff='find . -iname'
alias yr='yarn run'
alias fails='rspec --only-failures'
alias yt='youtube-dl'
alias aws='aws2'
alias t='trailer'
alias tua='trailer update all'

# tmux
alias tma='tmux attach'

#ruby
alias rb='rbenv'
alias rv='rbenv version'
alias wr='ps aux | grep ruby'
alias kf='kill -9 %1'
alias kk='kill -9'
alias be='bundle exec'

alias ci='open https://circleci.com/gh/team-peanut'
alias nl='open https://app.netlify.com/sites'

if [[ -v MAC ]]; then
  alias grep='ggrep'
else
fi

# rails
alias rs='rails s'
alias rag='rails g'
alias ragm='rails generate migration'
alias rc='rails c'
alias migrate='rails db:migrate db:data && RAILS_ENV=test rails db:migrate db:data'
alias bef='foreman start -f Procfile.dev'
alias upgrade_gems="bundle update && rspec && git add -A && git commit -m 'Gem upgrades' && git push"
alias ber="be rubocop --auto-correct"
alias bea="be rubocop --auto-gen-config"
alias rt='rails -T'
alias rr='rails routes'

#Peanut
alias reset_dev_db='rails db:drop db:create db:migrate db:data db:seed && rails runner ../seed-user.rb && RAILS_ENV=test rails db:migrate db:data'

#heroku
alias h="heroku"
hpush() { git add -A; git commit -m "$*"; git push production master; }
alias hc="heroku run rails console"
alias hl="heroku logs -t"

#testing
alias specs='rspec --tag ~type:feature'
alias fspecs='rspec --tag type:feature'
alias aspecs='fspecs && specs'

#vim
alias e='vim'

# homebrew
alias bup='brew update && echo "==> Outdated Formula" && brew outdated && brew cask outdated'
alias bu='brew upgrade'

#conviniences
alias -g V='|e -'
alias -g G='|grep --color'
alias -g A='|ag --color'

#git
unalias g
g() {
  if [[ $# -eq 0 ]]; then
    command hub status -sb
  else
    command hub "$@";
  fi
}
unalias gcam
gcam() {
  command git add -A;
  command git commit -m "$*";
}
alias gb='git branch'
alias gbX='git branch --delete --force'
alias gbx='git branch --delete'
alias gc='git commit -v'
alias gca='git commit -v -a'
alias gd='git d'
alias gg='git grep'
alias gl='git l'
alias gp='git push'
alias gpf='FORCE=1 git push --force-with-lease'
alias gpr='gpc && hub browse'
alias gr='git r'
alias gcl='git pull && git branch --merged master | grep -vE "(master|production|release|develop)" | xargs git branch -d'

#msc
myip() { elinks -dump http://checkip.dyndns.org:8245/ }
alias cd..='cd ..'
alias ll='ls -l'

# system and files editing
alias ea='e ~/code/dotfiles/aliases'
alias eg='e ~/code/dotfiles/gitconfig'
alias ez='e ~/code/dotfiles/zsh_mods'
alias eb='e ~/code/dotfiles/bin'
alias ezz='e ~/.zshrc'
alias et='e ~/code/dotfiles/tmux.conf'
alias es='e ~/.ssh/config'
alias sr='exec zsh'
