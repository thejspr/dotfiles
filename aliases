# thesis
# tests yarn
ty() { 
  ./bin/yarn &; 
  pid=$!; 
  sleep 1; 
  curl -i http://127.0.0.1:3000/ -b "$VAR=testing"; 
  sleep 2; kill -HUP $pid; 
}
yarn() { ~/Dropbox/thesis/code/yarn/bin/yarn }

# tail syslog
alias slog='tail -f /var/log/syslog'

# find shortcut
alias fnd='sudo find $1 -iname $2'

#keepassx
alias kpass='keepassx ~/Dropbox/privat/db.kdb &'

# tmux
alias ltmux="if tmux has; then tmux attach; else tmux new; fi"

# git
gpush() { git add -A; git commit -m "$@"; git push; }
g() {
  if [[ $# == '0' ]]; then
    command git status
  else
    command git "$@";
  fi
}

# ctags
alias rctags='ctags -R --exclude=.git --exclude=log --exclude=public *'

# ruby & rails
alias wrvm='rvm current'
alias r='rails $@'
alias b='bundle'
alias be='bundle exec'
function ss {
  if [ -e script/server ]; then
    script/server $@
  else
    rails server $@
  fi
}
function sc {
  if [ -e script/console ]; then
    script/console $@
  else
    rails console $@
  fi
}
function sg {
  if [ -e script/generate ]; then
    script/generate $@
  else
    rails generate $@
  fi
}

alias devlog='tail -f log/development.log | egrep -v "^(Served asset|$)"'
alias gemup='gem update --system && gem update'
# heroku
hpush() { git add -A; git commit -m 'hotfix commit/push'; git push heroku master; }
hpushm() { git add -A; git commit -m 'hotfix commit/push + migration'; git push heroku master; heroku run rake db:migrate; }
alias h='heroku'

# latex
alias lwc='pdftotext report.pdf - | wc -w -'
alias lmkp='latexmk -pvc -pdf report.tex'
alias lmk='latexmk'
alias lmkc='latexmk -CA'

# servers
alias prgs='ssh thejspr.com'

# apache and nginx
alias ares='sudo /etc/init.d/apache2 restart'
alias nres='sudo service nginx-init restart'

# misc
alias sabres='pkill sabnzbdplus && sabnzbdplus -f ~/.sabnzbd/sabnzbd.ini -w 1 -d'

# aptitude conviniences
alias ain='sudo apt-get install $@ -y'
alias aun='sudo apt-get remove'
alias afi='sudo apt-cache search'
alias aup='sudo apt-get update && sudo apt-get upgrade -y'
alias aclean='sudo apt-get autoclean && sudo apt-get autoremove && sudo apt-get clean && sudo apt-get remove'

# searching for stuff
alias ack='ack-grep'

# files, directories and commands
alias mx='chmod a+x'
alias cd..='cd ..'
alias ls='ls --color=auto'
alias ll='ls -lA --color=auto'
alias grep='grep --color=auto'
alias du='du -h'
alias df='df -h'

# system and files editing
alias a='alias'
alias e='vim'
alias se='sudo vim'
alias te='touch $@; vim $@'
alias ea='vim ~/.aliases'
alias ez='vim ~/dotfiles/zshrc'
alias ez_='vim ~/dotfiles/_zshrc'
alias sr='source ~/.zshrc'
