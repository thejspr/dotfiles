#git
gitp() { git add -A; git commit -m "$*"; git push; }

#ruby&rails
railsres() { rake db:drop; rake db:migrate; rails s; }
rakedb() { rake db:drop; rake db:migrate; rake db:seed; }
alias r='rails $*'
alias gemup='gem update --system && gem update'
alias nres='sudo /etc/init.d/nginx restart'
# heroku
hpush() { git add *; git commit -a -m "$*"; git push heroku master; heroku rake db:migrate; }
alias h='heroku $*'

# latex
alias lmkp='latexmk -pvc -pdfps'
alias lmk='latexmk $*'

# servers
alias prgmr='ssh jkjeldgaard.xen.prgmr.com'
alias award='ssh -p 2222 jkjeldgaard@jsprk.dk'

# apache
alias ares='sudo /etc/init.d/apache2 restart'
alias elog='tail -f /var/log/apache2/error.log'

# misc
alias wiki='wikipedia2text -p '
alias sab='sabnzbdplus --daemon'
alias sabres='pkill sabnzbdplus && sabnzbdplus --daemon'

# aptitude conviniences
alias aptin='sudo apt-get install $* -y'
alias aptun='sudo apt-get remove'
alias aptfi='sudo apt-cache search'
alias aptup='sudo apt-get update && sudo apt-get upgrade -y'
alias aptclean='sudo apt-get autoclean && sudo apt-get autoremove && sudo apt-get clean && sudo apt-get remove'

# files, directories and commands
alias mx='chmod a+x'
alias cd..='cd ..'
alias ls='ls --color=auto'
alias ll='ls -lA --color=auto'
alias grep='grep --color=auto'
alias du='du -h'
alias df='df -h'

# Applications
#edit
alias gvim='gvim --remote-tab-silent'
alias gv='gvim'
sgv() { sudo gvim --remote-tab-silent "$1" &; }
sv() { sudo vim --remote-tab-silent "$1" &; }

#nano
sn() { sudo nano "$1"; }
n() { nano $1; }

# system
alias a='alias'
alias ea='gvim ~/.aliases & sr'
alias ez='gvim ~/.zshrc &'
alias aprox='apropos'
alias off='sudo shutdown -h now'
alias sr='source ~/.zshrc'
alias cpenv='scp ~/.zshrc ~/.aliases ~/.gemrc jkjeldgaard.xen.prgmr.com:~'

# FUNCTIONS
#Automatically do an ls after each cd
cd() {
  if [ -n "$1" ]; then
    builtin cd "$@" && ls
  else
    builtin cd ~ && ls
      fi
}

# mkdir, cd into it
mkcd () {
  mkdir -p "$*"
    cd "$*"
}

#show current external ip.
function myip {
  myip=`elinks -dump http://checkip.dyndns.org:8245/`
    echo "${myip}"
}

# extract any archive
function ef() {
  if [ -f "$1" ] ; then
  case "$1" in
    *.tar.bz2) tar xjfv "$1" ;;
    *.tar.gz) tar xzfv "$1" ;;
    *.tar.Z) tar xzfv "$1" ;;
    *.bz2) bunzip2 "$1" ;;
    *.rar) unrar x "$1" ;;
    *.gz) gunzip "$1" ;;
    *.jar) unzip "$1" ;;
    *.tar) tar xfv "$1" ;;
    *.tbz2) tar xjfv "$1" ;;
    *.tgz) tar xzfv "$1" ;;
    *.zip) unzip "$1" ;;
    *.7z) 7z e "$1" ;;
    *.Z) uncompress "$1" ;;
    *) echo "'$1' cannot be extracted." ;;
    esac
  else
    echo "'$1' is not a file."
      fi
}
