#!/bin/env ruby

require 'notifier'

def number(multiplier)
  (Random.rand * multiplier).ceil
end

notifications = [
  {
    title: "Arbøjning!",
    message: -> { "#{number(10)} armbøjninger" }
  },
  {
    title: "Træk vejret!",
    message: -> { "#{number(5)} minutters fokus paa vejrtrækning" }
  },
  {
    title: "Stræk!",
    message: -> { "#{number(3)} minutters udstrækning" }
  }
]

while(true) do
  notification = notifications.sample

  Notifier.notify(
    title: notification[:title],
    message: notification[:message].call
  )

  sleep (ARGV.first.to_i * 60)
end
