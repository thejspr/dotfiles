#!/usr/bin/env bash

set -e

if [[ -f ~/.darkmode ]]; then
  echo 'darkmode off'
  sed -i'.bak' 's/solarized_dark/solarized_light/g' ~/.config/alacritty/alacritty.toml
  gsettings set org.gnome.desktop.interface color-scheme 'default'
  rm -f ~/.darkmode
else
  echo 'darkmode on'
  sed -i'.bak' 's/solarized_light/solarized_dark/g' ~/.config/alacritty/alacritty.toml
  gsettings set org.gnome.desktop.interface color-scheme 'prefer-dark'
  touch ~/.darkmode
fi
