[core]
  excludesfile = ~/.gitignore
  whitespace = trailing-space,space-before-tab
  ignorecase = false
[user]
  name = Jesper Kjeldgaard
  email = jk@clearhaus.com
[github]
  user = thejspr
[includeIf "gitdir:~/code/"]
  path = ~/code/.gitconfig
[includeIf "gitdir:~/clearhaus/"]
  path = ~/clearhaus/.gitconfig
[color]
	ui = true
[push]
  default = tracking
  autoSetupRemote = true
[alias]
  a      = add --all
  aa     = add -A
  ac     = !git add . && git commit -am
  amend  = commit -a --amend
  amendf = commit -a --amend --no-edit
  b      = branch
  bclean = !git co master && git branch --merged | grep -v master | grep -v staging | xargs -r git branch -d
  c      = commit -v
  ca     = !git add -A && git commit -v
  co     = checkout
  ci     = !gh pr checks
  d      = diff
  dc     = diff --cached
  ds     = diff --stat
  edit   = !git status -sb | tail +2 | grep -v '^ D' | awk '{print $2}' | xargs -o $EDITOR
  gc     = gc --prune=now
  l      = log --oneline --decorate -16
  ll     = log --pretty=format:'%Cred%h%Creset %s %Cgreen(%cr) %C(black)<%an>%Creset' \
               --abbrev-commit \
               --date=relative -16
  ms     = checkout master
  mt     = mergetool
  pc     = !FORCE=1 git push -u origin $(git symbolic-ref --short HEAD)
  r      = remote
  rc     = !git add -A && git rebase --continue
  rh     = reset --hard
  wip    = !git add --all && git commit -m 'WIP'
  undo   = reset HEAD~1 --mixed

  stg    = checkout staging
  browse = !gh browse

  cl = !git co master && git pull && git remote prune origin && git bclean

  rinse = !git submodule foreach --recursive git clean -xfd && git submodule sync --recursive && git restore . --recurse-submodules
[apply]
  whitespace = nowarn
[branch]
  autosetupmerge = true
[advice]
  pushNonFastForward = false
  statusHints = false
[gc]
  auto = 1
[mergetool]
  prompt = false
  keepBackup = false
[diff]
  renames = copies
  mnemonicprefix = true
  algorithm = patience
  ; tool = nvimdiff
  tool = nvim_difftool
[difftool "nvim_difftool"]
  cmd = nvim -c "packadd nvim.difftool" -c "DiffTool $LOCAL $REMOTE"
[filter "lfs"]
  clean = git-lfs clean -- %f
  smudge = git-lfs smudge -- %f
  required = true
  process = git-lfs filter-process
[merge]
  tool = nvimmerge
[mergetool "nvimmerge"]
	cmd = nvim -d \"$LOCAL\" \"$MERGED\" \"$BASE\" \"$REMOTE\" -c \"wincmd w\" -c \"wincmd J\"
[pull]
  ff = only
[interactive]
	diffFilter = diff-so-fancy --patch
; [color "diff-highlight"]
; 	oldNormal = red bold
; 	oldHighlight = red bold 52
; 	newNormal = green bold
; 	newHighlight = green bold 22
; [color "diff"]
; 	meta = 11
; 	frag = magenta bold
; 	func = 146 bold
; 	commit = yellow bold
; 	old = red bold
; 	new = green bold
; 	whitespace = red reverse
[init]
	defaultBranch = master
[credential "https://github.com"]
	helper =
	helper = !/usr/bin/gh auth git-credential
[credential "https://gist.github.com"]
	helper =
	helper = !/usr/bin/gh auth git-credential
