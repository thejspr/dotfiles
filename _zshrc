# https://github.com/rupa/z
. ~/repos/z/z.sh
function precmd () {
  z --add "$(pwd -P)"
}

# Alias and function definitions.
if [ -f ~/.aliases ]; then
    . ~/.aliases
fi
if [ -f ~/.functions ]; then
    . ~/.functions
fi

# disable terminal locking
stty -ixon -ixoff

unsetopt correct_all

zshaddhistory() { [[ $1 != *cd* ]] }

# specific things for laptop and server
if [ "$HOST" = "vision" ]; then
  # linux laptop
  export PATH=${PATH}:$HOME/apps/android-sdk-linux_x86/tools:$HOME/apps/eclipse:$HOME/bin
  export PATH=$PATH:~/.cabal/bin # Haskell
  cp ~/repos/sabnzbd.ini ~/.sabnzbd/
  export AUTOFEATURE=true
  export JRUBY_OPTS=--1.9
  export RBXOPT=-X19
  export EDITOR=gvim
elif [ "$HOST" = "theprogress" ]; then
  # virtual host
  export PATH=${PATH}:/usr/local/nginx/sbin/
  export RAILS_ENV=production
elif [ "$HOST" = "jspr.local" ]; then
  # mac
  export PROFILE=default
  export PATH=$PATH:/usr/local/texlive/2011basic/bin/universal-darwin/:~/bin
fi
